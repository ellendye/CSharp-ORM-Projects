<div class="card">
    <div class="card-header bg-dark text-light">Level 3</div>
    <div class="card-body">
        <p>Using the SportsORM, complete all the following queries and show their results on Level3.cshtml.</p>
        <ol>
            <li>...all teams, past and present, that Samuel Evans has played with</li>
            <li>...all players, past and present, with the Manitoba Tiger-Cats</li>
            <li>...all players who were formerly (but aren't currently) with the Wichita Vikings</li>
            <li>...every team that Jacob Gray played for before he joined the Oregon Colts</li>
            <li>...everyone named "Joshua" who has ever played in the Atlantic Federation of Amateur Baseball Players</li>
            <li>...all teams that have had 12 or more players, past and present.</li>
            <li>...all players, sorted by the number of teams they've played for</li>
        </ol>
    </div>
</div>

<div class="card">
    <div class="card-body">
        <h3>1. all teams, past and present, that Samuel Evans has played with</h3>
        <table class="table table-striped">
            <tr>
                <th>Team Name</th>
                <th>Team Location</th>
            </tr>
            <tr>
                <td>@ViewBag.SamEvans.CurrentTeam.TeamName</td>
                <td>@ViewBag.SamEvans.CurrentTeam.TeamName</td>
            </tr>
            @foreach(PlayerTeam l in ViewBag.SamEvans.AllTeams)
            {
            <tr>
                <td>@l.TeamOfPlayer.TeamName</td>
                <td>@l.TeamOfPlayer.Location</td>
            </tr>
            }
        </table>
    </div>
</div>

<div class="card">
    <div class="card-body">
        <h3>2. all players, past and present, with the Manitoba Tiger-Cats</h3>
        <table class="table table-striped">
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
            </tr>
            @foreach(var l in ViewBag.Manitoba.CurrentPlayers)
            {
            <tr>
                <td>@l.FirstName</td>
                <td>@l.LastName</td>
            </tr>
            }
            @foreach(PlayerTeam l in ViewBag.Manitoba.AllPlayers)
            {
            <tr>
                <td>@l.PlayerOnTeam.FirstName</td>
                <td>@l.PlayerOnTeam.LastName</td>
            </tr>
            }
        </table>
    </div>
</div>

<div class="card">
    <div class="card-body">
        <h3>3. all players who were formerly (but aren't currently) with the Wichita Vikings</h3>
        <table class="table table-striped">
            <tr>
                <th>Name</th>
                <th>Current Team</th>
            </tr>
            @foreach (PlayerTeam l in ViewBag.Vikings.AllPlayers)
            {
            <tr>
                <td>@l.PlayerOnTeam.FirstName @l.PlayerOnTeam.LastName</td>
                <td>@l.PlayerOnTeam.CurrentTeam.TeamName @l.PlayerOnTeam.CurrentTeam.Location</td>
            </tr>
            }
        </table>
    </div>
</div>

<div class="card">
    <div class="card-body">
        <h3>4. every team that Jacob Gray played for before he joined the Oregon Colts</h3>
        <table class="table table-striped">
            <tr>
                <th>Former Team Name</th>
                <th>Former Team Location</th>
            </tr>
            @foreach (PlayerTeam l in ViewBag.JacobGray.AllTeams)
            {
            <tr>
                <td>@l.TeamOfPlayer.TeamName</td>
                <td>@l.TeamOfPlayer.Location</td>
            </tr>
            }
        </table>
    </div>
</div>
@* 
<div class="card">
    <div class="card-body">
        <h3>5.everyone named "Joshua" who has ever played in the Atlantic Federation of Amateur Baseball Players</h3>
        <table class="table table-striped">
            <tr>
                <th>Joshua name</th>
                <th>Joshua Team</th>
            </tr>
            @foreach (PlayerTeam l in ViewBag.JoshuaAmBas.AllTeams)
            {
            <tr>
                <td>@l.TeamOfPlayer.TeamName</td>
                <td>@l.TeamOfPlayer.Location</td>
            </tr>
            }
        </table>
    </div>
</div> *@
<div class="card">
    <div class="card-body">
        <h3>6.all teams that have had 12 or more players, past and present.</h3>
        <table class="table table-striped">
            <tr>
                <th>Team</th>
                <th>Current Count</th>
                <th>Total Count</th>
            </tr>
            @foreach (Team l in ViewBag.MoreThanTwelve)
            {
            <tr>
                @{
                    if(l.CurrentPlayers.Count > 12 || l.AllPlayers.Count > 12)
                    {
                    <td>@l.TeamName @l.Location</td>
                    <td>@l.CurrentPlayers.Count</td>
                    <td>@l.AllPlayers.Count</td>
                    }
                }
                
            </tr>
            }
        </table>
    </div>
</div>